## Join 기법에 대한 설명
### Sort Merge Join
 - 양쪽 집합을 정렬하고 조인하며, 인덱스에 의해 이미 정렬된 집합은 정렬 없이 곧바로 조인에 참여하기도 한다.
- 각 테이블의 검색조건에 의해 전체 일의 양 결정
- 조인 컬럼을 기준으로 데이터를 정렬하여 조인을 수행
- 스캔 방식으로 데이터를 읽음
- 정렬할 데이터가 많아 메모리에서 모든 정렬 작업을 수행하기 어려운 경우에는 임시 영역(디스크)를 사용하기 때문에 성능이 떨어질 수 있다.
- 조인 칼럼에 적당한 인덱스가 없어서 NL 조인이 비효율적일 떄 사용
- Driving Table의 개념이 중요하지 않은 조인 방식
- 조인 조건의 인덱스 유무에 영향을 받지 않음
### NL Join
- 먼저 액세스한 테이블의 처리 범위에 따라 전체 일의 양 결정
- 빠르게 결과를 조회할 수 있지만, 조인 횟수가 많을수록 다른 조인 방법에 비해 성능 저하가 나타날 수있다.
### Hash Join
- 둘 중 작은 집합(Build Input)을 읽어 PGA 메모리에 할당되는 Hash Area 영역에 저장
- Bulid Input 테이블은 전체 테이블을 처리, Probe Input된 테이블에 대한 부분 범위 처리 수행
- Build Input 해시 키 칼럼에 중복 값이 거의 없어야 효율이 좋아짐
- Build Input 집합을 Hash Area에서 탐색할 떄는 래치(Latch) 획득 과정이 없어서 빠르다.
- EQUI(=) 조인 조건에서만 동작한다.(하나라도 있으면 사용 가능)
- 조인 컬럼의 인덱스가 존재하지 않을 떄도 사용 가능
#### Hash Join을 효율적으로 하는 조건
- 조인 칼럼에 적당한 인덱스가 없어서 자연조인이 비효율적일 때
- 자연조인 시 드라이빙 집합 쪽으로 조인 액세스 양이 많아 Random 액세스 부하가 심할 때
- 소트 머지 조인을 하기에는 두 테이블이 너무 커서 소트 부하가 심할 때
#### Hash Join 선택 조건
- 수행 빈도가 낮고, 쿼리 수행시간이 오래 걸리는 대용량 테이블을 조인할 때 사용
- 한쪽 테이블이 가용 메모리에 담길 정도로 충분히 작아야 성능 효과 높음

## Partition Wise Join 유도 힌트 문법
### Full partition Wise Join
- /*+ PQ_DISTRIBUTE(B, NONE, NONE) */
### Partial-Partition Wise Join
- /*+ PQ_DISTRIBUTE(B, PARTITION, NONE) */
- /*+ PQ_DISTRIBUTE(B, NONE, PARTITION) */

## EXISTS절은 보통 SEMI JOIN 발생

## 오라클에서 TAB1, TAB2 순으로 NL 조인하려고할 떄 필요한 힌트는?
```
SELECT (힌트)
FROM TAB1 A, TAB2 B
WHERE A.KEY = B.KEY
```
- LEADING(A) USE_NL(B)
- 테이블 Alias가 있는 상황에선 반드시 Alias를 사용해야함
- ORDERED는 FROM 절의 테이블 순서대로 조인을 진행하는 Hint
- DRIVING_SITE는 분산환경(DBLINK)에서 쿼리의 실행이 오라클에 의해 선택된 Site가 아닌 다른 Site에서 일어나게 유도하는 힌트

## 스칼라 서브쿼리
- 서브쿼리 중 함수처럼 한 레코드당 정확히 하나의 값만을 리턴하는 서브쿼리
- 메인 쿼리의 레코드마다 스칼라 서브쿼리를 통해 하나의 레코드, 하나의 값만 리턴한다.
- 조인에 실패할 경우, NULL을 리턴한다.
- 입력값(=조인 칼럼)곽 출력 값(=리턴 값)을 Shared Pool에 있는 Result Cache가 아니라 PGA에 캐싱했다가 같은 입력 값에 대해서는 캐싱된 값을 리턴하여 조인 부하를 줄여준다.

## 선분이력의 경우 각각의 Between으로 조회하면 된다.