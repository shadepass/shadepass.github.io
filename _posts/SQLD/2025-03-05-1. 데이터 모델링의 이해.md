 ---
published: true
title: "1. 데이터 모델링의 이해"
date: 2025-3-5 21:30:00 +/-TTTT
categories: [Certificate, SQLD]
tags: [SQLP], SQL, SQLD]
math: true
toc: true
pin: true
image:
---

# 데이터 모델링
## 데이터 모델링의 특징
 1. 현실세계를 일정한 형식에 맞추어 표현하는 추상화의 의미
 2. 시스템 구현을 포함한 업무분석 및 업무형상화 목적
 3. 복잡한 현실을 제한된 언어나 표기법으로 이해하기 쉽게 하는 단순화의 의미
 4. 모호함을 배제하고 누구나 이해가 가능하도록 정확하게 현상을 기술하는 정확화의 의미
 
## 데이터 모델링에 대한 설명
1. 업무 정보를 구성하는 기초가 되는 정보들을 일정한 표기법으로 표현
2. 분석된 모델로 데이터베이스를 생성하여 개발 및 데이터관리에 사용하기 위한 것
3. 데이터 모델링이라는 것은 단지 데이터베이스만을 구축하기 위한 용도로 쓰이는 것이 아니라 데이터 모델링 자체로도 업무를 설명하고 분석하는 부분에서 매우 중요한 의미가 있다.

## 데이터 모델링의 유의사항: 중복성, 비유연성, 비일관성
1. 중복: 데이터베이스가 여러 장소에 같은 정보를 저장하는 잘못을 하지 않도록
2. 비유연성: 데이터의 정의를 데이터의 사용 프로세스와 분리함으로써 데이터 모델링은 데이터 혹은 프로세스의 작은 변화가 애플리케이션과 데이터베이스의 중대한 변화를 일으킬 수 있는 가능성 줄인다. 
3. 비일관성: 데이터와 데이터 간의 상호 연관 관계에 대해 명확하게 정의한다면 이러한 위험을 사전에 예방하는데 도움을 줄 수 있다.

## 데이터모델링의 관계
1. 관계는 존제에 의한 관계와 행위에 의한 관계로 구분할 수 있으며, ERD에서는 관계를 연결 할 때, 존재와 행위를 구분하지 않고 단일화된 표기법 사용
2. UML에는 클래스다이어그램의 관계 중 연관 관계와 의존 관계가 있고 이것은 실선과 점선을 표현
3. 연관관계는 항상 이용하는 관계로 존재적 관계에 해당, 의존관계는 상대방 클래스의 행위에 의해 관계가 형성되는 행위적 관계에 해당
4. 연관관계는 소스코드에서 멤버변수로 선언하여 사용하게 하고 의존관계는 오퍼레이션에서 파라미터 등으로 이용할 수 있도록 되어있다.
5. 관계의 표기법은 관계명, 관계차수, 선택성(선택사양) 3가지 개념으로 표기
6. 부서와 사원 엔터티 간의 '소속' 관계는 존재적 관계
7. 주문과 배송 엔터티 간의 '배송근거' 관계는 행위에 의한 관계

## 데이터 모델링에서 비식별자 관계
1. 1:M 관계에서 부모와 자식관계에서 데이터가 부모없이 자식쪽 엔터티의 인스턴스가 먼저 생성될 수 있을 경우
2. 부모 엔터티의 인스턴스가 자식 엔터티의 인스터보다 먼저 소멸하는 경우
3. 자식 엔터테이의 식별자가 부모 엔터티의 주식별자를 상속받아 생성하는 것보다 별도의 주식별자를 생성하는 것이 더 유리
4. SQL 문의 조인관계를 최소화 하기 위해서는 **식별자 관계**  

|항목|식별자 관계|비식별자 관계|
|-|-|-|
|목적|강한 연결관계 표현|약한 연결관계 표현|
|자식 주식별자 영향|자식 주 식별자의 구성에 포함|자식 일반 속성에 포함|
|표기법|실선|점선|
|고려사항|반드시 부모 엔터티에 종속|약한 종속관계, 자식 주식별자 구성을 독립적으로 구성|

# 엔터티와 데이터
## 데이터 독립성의 구성요소
1. 통합된 모든 관점은 개념스키마와 관련이 있다.
2. 물리적인 저장구조를 표현하는 스키마는 내부 스키마이다.
3. View 단계는 여러 사용자 관점으로 구성하는 외부스키마에 해당
4. 논리적인 데이터 독립성을 고려하는 단계는 외부단계와 개념적 단계이다.

> 데이터베이스의 스키마 3단계 구조  
> 외부스키마 - 개념스키마 - 내부스키마 <br>

## ERD에 대한 설명
1. 1076년 피터 첸에 의해 Entity-Relationship Model(E-R Model) 표기법 개발
2. 일반적으로 ERD 작성할 때, 엔터티 도출→엔터티배치→관계설정→관계명 기술의 흐름
3. 관계의 명칭은 관계 표현에서 매우 중요한 부분
4. 가장 중요한 엔터티를 왼쪽 상단에 배치

## 엔터티의 특징
1. 속성이 없는 엔터티는 있을 수 없다.
2. 반드시 해당 업무에서 필요하고 관리하고자 하는 정보이어야한다.
3. 유일한 식별자에 의해 식별이 가능해야한다.
4. 영속적으로 존재하는 두 개 이상의 인스터의 집합이어야 한다.
5. 업무 프로세스에 의해 이용되어야한다.
6. 다른 엔터티와 최소 한 개 이상의 관계가 있어야 한다.(단, 통계성 엔터티나 코드성 엔터니는 관계 생랴 가능)

## 발생 시점에 따라 구분할 수 있는 엔터티 유형
- 기본(키) 엔터티, 중심 엔터티, 행위 엔터티

## 엔터티에 이름을 부여하는 방법
1. 가능하면 현업 업무에서 사용하는 용어 사용
2. 가능하면 약어를 사용하지 않는다.
3. 단수명사를 사용
4. 모든 엔터티를 통틀어서 유일하게 이름 부여
5. 엔터티 생성의미대로 이름 부여

## 정규화: 정규화란 테이블 간에 중복된 데이터를 허용하지 않는다는 것
### 제 1 정규화
- 테이블의 컬럼이 원자값을 갖도록 테이블을 분해하는 것
- 두 개이상의 값을 가지는 컬럼값을 분리
![image](https://github.com/user-attachments/assets/b9cf2d9d-b701-4aa0-8161-1d23c8d87f48)<br>

### 제2정규화
- 완전 함수 종속을 만족하도록 테이블을 분해하는 것
- 완전 함수 종속: 기본키의 부분집합이 결정자가 되어서는 안된다는 것
- 기본키는 (학생번호, 강좌이름)인데, 강의실은 복합기본키 중 강좌이름으로 충분히 식별 될 수 있기 때문에, 테이블을 분해해서 완전함수종속 만족
![image](https://github.com/user-attachments/assets/bf9a7bba-56c1-4806-960a-0928cd7bcd42)

### 제3정규화
- 이행적 종속을 없애도록 테이블을 분해하는 것
- 이행적 종속: A -> B, B-> C가 성립할 때 A->C가 성립되는 것
- 학생번호는 강좌를 결정하고, 강좌는 수강료를 결정할 때
- 이때, 학생번호로 수강료를 결정할 수 있게 되어 학생이 수강강좌를 바꾼 경우에도 수강료는 변경이 안되는 현상이 발생한다.
- 따라서, 제3정규화를 통해서 번거로움을 제거
![image](https://github.com/user-attachments/assets/1b93bbd7-5a6a-4dc7-a8f6-c241f201a330)

### BCNF정규화
- 모든 결정자가 후보키가 되도록 테이블을 분해하는 것
- 교수가 특강이름을 결정하는 결정자이기 때문에 BCNF 정규화를 통해 이를 분리
![image](https://github.com/user-attachments/assets/1f569037-324b-4b9e-be2f-8ec3cbbbee58)

## 독립성
1. 물리적 독립성: 데이터베이스의 파일 구조가 변화가 논리스키마에 영향을 주지 않음

## 두 개의 엔터티 사이에 정의한 관계에 대해 확인해야 할 사항
1. 두 개의 엔터티 사이에 관심 있는 연관규칙이 존재하는가
2. 두 개의 엔터티 사이에 정보의 조합이 발생되는가
3. 업무기술서, 장표에 관계연결을 가능하게 하는 동사가 있는가
4. 업무기술서, 장표에 관계연결에 대한 규칙이 서술되어 있는가

# 속성
## 속성에 대한 설명
1. 엔터티에 대해 자세하고 구체적인 정보를 나타낸다.
2. 하나의 엔터티는 두 개 이상의 속성을 갖는다.
3. 속성은 하나의 속성값만 가질 수 있다.
4. 속성도 집합이다.
5. 속성의 명칭은 모호하지 않게, 복합 명사를 사용하여 구체적으로 명명하여 전체 데이터모델에서 유일성을 확보

## 속성 설명
1. 기본속성: 업무분석을 통해 바로 정의한 속성
2. 설계속성:  원래 업무상 존재하지는 않지만 설계를 하면서 도출해 내는 속성
3. 파생속성: 다른 속성으로부터 계산이나 변형이 되어 생성되는 속성
> 조회할 때 빠른 성능을 낼 수 있도록 하기 위해 원래 속성값을 계산하여 저장

# 식별자
## 주 식별자에 대한 설명
1. 주 식별자에 의해 엔터티 내에 모든 인스턴스들이 유일하게 구분되어야 한다.
2. 주식별자를 구성하는 속성의 수는 유일성을 만족하는 최소의 수가 되어야한다.
3. 지정 된 주식별자의 값은 자주 변하지 않는 것
4. 주식별자가 지정이 되면 반드시 값이 들어와야 한다.
5. 명칭, 내역 등과 같이 이름으로 기술되는 것들은 주식별자로 지정하기 부적절
6. 유일성, 최소성, 불변성, 존재성

## 식별자에 대한 설명
![image](https://github.com/user-attachments/assets/40331241-0df4-4160-bed5-7d2589446a4f)


